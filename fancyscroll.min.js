!function(t){Fancy.require({jQuery:!1,Fancy:"1.0.2"});let s=1,e="FancyScroll",i="1.1.1",o=0,h={},r=!1,n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;class l{constructor(o,h){const n="#document"===t(o)[0].nodeName?t("body"):t(o);return this.id=s,this.name=e,this.version=i,this.element=n,this.disabled=!1,this.isBody="#document"===n[0].nodeName||"BODY"===n[0].nodeName,this.wrapper=n.parent(),s++,r||(r=!0,Fancy.version(this)),this.settings=t.extend({},Fancy.settings[e],h),this.direction={},this.init(),this.addEventListener(),this.hideCursor(),this.resize(),this.position(),this}init(){this.y=t("<div/>",{id:this.name+"-y-"+this.id,class:this.name+"-rail "+this.name+"-y-rail"}),this.y.cursor=t("<div/>",{id:this.name+"-y-cursor-"+this.id,class:this.name+"-cursor"}),this.x=t("<div/>",{id:this.name+"-x-"+this.id,class:this.name+"-rail "+this.name+"-x-rail"}),this.x.cursor=t("<div/>",{id:this.name+"-x-cursor-"+this.id,class:this.name+"-cursor"}),this.left=this.element.scrollLeft(),this.top=this.element.scrollTop(),this.element.addClass(this.name+"-element"),this.settings.mobile||!Fancy.mobile?this.element.css({overflow:"hidden"}):this.element.css({overflow:"auto"}),(this.settings.y&&this.settings.mobile||!Fancy.mobile)&&(this.y.append(this.y.cursor),this.wrapper.append(this.y)),this.settings.x&&this.settings.mobile||Fancy.mobile,this.y.cursor.css({background:this.settings.cursorColor,position:"relative",right:0,border:this.settings.borderColor?"1px solid "+this.settings.borderColor:"",borderRadius:this.settings.borderRadius,cursor:this.settings.cursorCursor}).addClass(this.name+"-theme-"+this.settings.theme+"-cursor"),this.x.cursor.css({background:this.settings.cursorColor,position:"relative",top:0,border:this.settings.borderColor?"1px solid "+this.settings.borderColor:"",borderRadius:this.settings.borderRadius,cursor:this.settings.cursorCursor}).addClass(this.name+"-theme-"+this.settings.theme+"-cursor"),this.y.css({position:this.isBody?"fixed":"absolute",backgroundColor:this.settings.railColor,width:this.settings.cursorWidth}).addClass(this.name+"-theme-"+this.settings.theme+"-rail"),this.x.css({position:this.isBody?"fixed":"absolute",backgroundColor:this.settings.railColor,width:this.settings.cursorWidth}).addClass(this.name+"-theme-"+this.settings.theme+"-rail")}showCursor(t){return this.disabled||!(this.ratioY>1)||t&&"y"!==t||(this.y.removeClass(this.name+"-mode-"+this.settings.hideMode+"-out").addClass(this.name+"-mode-"+this.settings.hideMode+"-in"),this.settings.autoHide&&this.delay(()=>{this.y.cursor.active||this.y.cursor.dragged||this.hideCursor()},1e3)),this.disabled||!(this.ratioX>1)||t&&"x"!==t||(this.x.removeClass(this.name+"-mode-"+this.settings.hideMode+"-out").addClass(this.name+"-mode-"+this.settings.hideMode+"-in"),this.settings.autoHide&&this.delay(()=>{this.x.cursor.active||this.y.cursor.dragged||this.hideCursor()},1e3)),this}hideCursor(){return this.disabled||(this.y.removeClass(this.name+"-mode-"+this.settings.hideMode+"-in").addClass(this.name+"-mode-"+this.settings.hideMode+"-out"),this.x.removeClass(this.name+"-mode-"+this.settings.hideMode+"-in").addClass(this.name+"-mode-"+this.settings.hideMode+"-out")),this}disable(){return this.hideCursor(),this.disabled=!0,this.y.hide().removeClass(this.name+"-mode-"+this.settings.hideMode+"-in").addClass(this.name+"-mode-"+this.settings.hideMode+"-in"),this.x.hide().removeClass(this.name+"-mode-"+this.settings.hideMode+"-in").addClass(this.name+"-mode-"+this.settings.hideMode+"-in"),this}enable(){return this.disabled=!1,this.y.css("display",""),this.x.css("display",""),this}resize(){return this.isBody?this.element.wtsY=this.element[0].scrollHeight-window.innerHeight:this.element.wtsY=this.element[0].scrollHeight-this.element.outerHeight(),this.isBody?this.element.wtsX=this.element[0].scrollWidth-window.innerWidth:this.element.wtsX=this.element[0].scrollWidth-this.element.outerWidth(),this.y.css({top:this.element.position().top+parseInt(this.element.css("borderTop")||0)+parseInt(this.element.css("marginTop")||0),height:this.isBody?"100%":this.element.innerHeight()}),this.x.css({left:this.element.position().left+parseInt(this.element.css("marginRight")),width:this.isBody?"100%":this.element.outerWidth()}),this.y.cursor.css({height:this.y.height()-this.y.height()*(this.element.wtsY/this.element[0].scrollHeight),minHeight:this.settings.cursorMinHeight}),this.x.cursor.css({width:this.element.outerWidth()-this.element.outerWidth()*(this.element.wtsX/this.element[0].scrollWidth),minWidht:this.settings.cursorMinHeight}),this.moveCursor(),this.y.wts=this.y.height()-this.y.cursor.outerHeight(),this.x.wts=this.x.width()-this.x.cursor.outerWidth(),this.ratioY=this.element.wtsY/this.y.wts,this.ratioX=this.element.wtsX/this.x.wts,this.ratioY<1?this.y.css("display","none"):this.y.css("display",""),this.ratioX<1?this.x.css("display","none"):this.x.css("display",""),this}destroy(){this.element.removeClass(this.name+"-element"),this.element.css("overflow","").unbind("."+this.name),t(window).unbind("."+this.name),t("html").css({cursor:""}),this.y.remove(),this.x.remove()}addEventListener(){let s=0;this.element.on("mouseenter."+this.name,()=>{this.disabled||(this.y.addClass("hovered"),this.showCursor())}).on("mouseleave."+this.name,()=>{this.y.removeClass("hovered")}).on("touchstart."+this.name,function(t){s=t.originalEvent.touches[0].clientY});const e=e=>{if(this.disabled)e.preventDefault();else if(this.settings.mobile||!Fancy.mobile){let i=0;(e=e?e.originalEvent:window.event).wheelDelta?i=e.wheelDelta/120:(e.detailX||e.detailY)&&(i=-(e.detailX||e.detailY)/3);let o=t(e.target).closest("."+this.name+"-element"),h=i>0;if(this.settings.preventDefault&&o.length&&!o.is(this.element)){if(this.debug("has fancyscroll"),h&&o.data("FancyScroll").infinite&&o.data("FancyScroll").infinite.last.up)return this.debug("the "+this.name+"-element has infiniteScroll, is currently on way up and is not on top yet"),!0;if(h&&o.scrollTop())return void this.debug("the "+this.name+"-element is currently on way up and is not on top yet");if(!h&&o.scrollTop()<o[0].scrollHeight-o.outerHeight())return this.debug("the "+this.name+"-element is currently on way down and is not on bottom yet"),!0}if("touchmove"===e.type){let t=e.touches&&e.touches[0].clientY;(h=t>=s)?this.top&&(e.stopPropagation(),e.stopImmediatePropagation(),this.scrollTo(this.left,this.top-(t-s))):this.top<this.element[0].scrollHeight-this.element.outerHeight()&&(e.stopPropagation(),e.stopImmediatePropagation(),this.scrollTo(this.left,this.top+(s-t))),s=t}else h?this.top&&(e.stopPropagation(),e.stopImmediatePropagation(),this.scrollTo(this.left,this.top-this.settings.scrollValue*i)):this.top<this.element[0].scrollHeight-this.element.outerHeight()&&(e.stopPropagation(),e.stopImmediatePropagation(),this.scrollTo(this.left,this.top+this.settings.scrollValue*-i))}else this.scrollEvents()};if(this.element.on("DOMMouseScroll."+this.name+" mousewheel."+this.name+" MozMousePixelScroll."+this.name+" touchmove."+this.name,e),this.element[0].onmousewheel=this.element[0].onmousewheel=e,this.y.on("mouseenter."+this.name,()=>{this.y.addClass("hovered"),this.y.cursor.active=!0,this.showCursor()}).on("mouseleave."+this.name,()=>{this.y.removeClass("hovered"),this.y.cursor.active=!1}),this.y.on("click."+this.name,t=>{t.preventDefault(),t.stopPropagation(),t.target===this.y[0]&&this.scrollTo(this.left,this.element[0].scrollHeight*Math.min(100,Math.max(0,100*(t.offsetY-this.y.cursor.height()/2)/this.y.height()))/100)}),this.y.cursor.on("mousedown."+this.name,s=>{s.preventDefault(),s.stopPropagation(),(h={}).start=s.clientY,h.old=s.clientY,this.y.cursor.dragged=!0,this.y.cursor.active=!0,t("html").css({cursor:this.settings.cursorCursor}),h.wts={},h.wts.up=h.start-parseInt(this.y.cursor.css("top"))-2,h.wts.down=h.start+this.y.wts-parseInt(this.y.cursor.css("top"))+2,t(document,"body").on("selectstart."+this.name,function(t){t.preventDefault()})}),t(window).on("mousemove."+this.name,t=>{if(this.y.cursor.dragged){let s;s=this.isBody&&!Fancy.isChrome?this.wrapper.scrollTop()+this.element.wtsY/this.y.wts*(t.clientY-h.old):this.element.scrollTop()+this.element.wtsY/this.y.wts*(t.clientY-h.old),this.scrollTo(this.left,Math.round(s)),this.resize(),t.clientY>=h.wts.up&&t.clientY<=h.wts.down&&(h.old=t.clientY)}}),t(window).on("mouseup."+this.name+" touchend."+this.name,()=>{t(document).unbind("selectstart."+this.name),t("html").css({cursor:""}),h={},this.y.cursor.active=!1,this.y.cursor.dragged=!1}),n){new n(t=>{t.forEach(t=>{this.resize(),this.position()})}).observe(this.element[0],{subtree:!1,attributeOldValue:!1,attributes:!0,childList:!0,characterData:!0})}this.element.on("DOMAttrModified",t=>{"style"===t.attrName&&(this.resize(),this.position())})}position(){return this.y.css({left:this.element.position().left-this.settings.margin+this.element.outerWidth()-this.y.width()-parseInt(this.element.css("borderRight")||0)+parseInt(this.element.css("marginLeft"))}),this.x.css({top:this.element.position().top-this.settings.margin+this.element.outerHeight()-this.x.height()+parseInt(this.element.css("marginTop"))}),this}scrollTo(t,s){if(t<0&&(t=0),s<0&&(s=0),t>this.element.wtsX&&(t=this.element.wtsX),s>this.element.wtsY&&(s=this.element.wtsY),t>this.left?this.direction.x="right":t<this.left?this.direction.x="left":this.direction.x=!1,s>this.top?this.direction.y="down":s<this.top?this.direction.y="up":this.direction.y=!1,this.showCursor(),this.settings.smooth){const t=this.settings.scrollValue/this[type][0].scrollHeight*1e4;this.element.stop(!0).animate({scrollTop:s},t,()=>{this.moveCursor(),this.resize(),this.showCursor(),this.direction.y&&this.scrollEvents()})}else this.element.scrollTop(s),this.moveCursor(),this.direction.y&&this.scrollEvents();return this.top=s,this.element.scrollLeft(t),this.left=t,this.direction.x&&this.scrollEvents(),this}moveCursor(){const t=(this.y.height()-this.y.cursor.outerWidth())/this.element.wtsX,s=(this.y.height()-this.y.cursor.outerHeight())/this.element.wtsY;return this.y.cursor.css({top:this.element.scrollTop()*s}),this.x.cursor.css({left:this.element.scrollLeft()*t}),this}delay(t,s){clearTimeout(o),o=setTimeout(()=>t.call(this),s)}scrollEvents(){this.settings.beforeTop.toString().indexOf("%")>0?100*this.element.scrollTop()/this.element.wtsY<=parseInt(this.settings.beforeTop)&&"up"===this.direction.y&&this._triggerEvent("top"):this.element.scrollTop()<=this.settings.beforeTop&&"up"===this.direction.y&&this._triggerEvent("top"),this.settings.beforeBottom.toString().indexOf("%")>0?100*this.element.scrollTop()/this.element.wtsY>=100-parseInt(this.settings.beforeBottom)&&"down"===this.direction.y&&this._triggerEvent("bottom"):this.element.scrollTop()>=this.element.wtsY-this.settings.beforeBottom&&"down"===this.direction.y&&this._triggerEvent("bottom"),this.element.trigger(this.name+":scroll"),this.element.trigger(this.name+":"+this.scrollDirection)}_triggerEvent(s){const e=t.Event({type:this.name+":"+s,FancyScroll:this,y:this.y,x:this.x});this.element.trigger(e)}debug(){this.settings.debug&&console.log(arguments)}}Fancy.settings[e]={scrollValue:100,margin:0,beforeTop:0,beforeBottom:0,cursorMinHeight:!1,cursorWidth:!1,cursorColor:!1,railColor:!1,mobile:!1,selectEnabled:!0,autoHide:!0,preventDefault:!0,borderColor:!1,borderRadius:!1,smooth:!1,linear:!1,x:!1,y:!0,debug:!1,theme:"default",cursorCursor:"pointer",hideMode:"fade"},Fancy.scroll=i,Fancy.api.scroll=function(t){return this.set(e,s=>new l(s,t))}}(jQuery);